{"ast":null,"code":"import $ from 'jquery';\n$.ajaxSetup({\n  headers: {\n    'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')\n  }\n});\nexport var indexTasks = function indexTasks(successCB, errorCB) {\n  var request = {\n    type: 'GET',\n    url: 'api/tasks?api_key=1',\n    success: successCB,\n    error: errorCB\n  };\n  $.ajax(request);\n};\nexport var postTask = function postTask(content, successCB, errorCB) {\n  var request = {\n    type: 'POST',\n    url: 'api/tasks?api_key=1',\n    data: {\n      task: {\n        content: $('#new-task-content').val()\n      }\n    },\n    success: successCB,\n    error: errorCB\n  };\n  $.ajax(request);\n};\nexport var createTask = function createTask() {\n  $.ajax({\n    type: 'POST',\n    url: 'api/tasks/?api_key=1',\n    xhrFields: {\n      'withCredentials': true\n    },\n    contentType: 'application/json',\n    dataType: 'json',\n    data: JSON.stringify({\n      task: {\n        content: $('#new-task-content').val()\n      }\n    }),\n    success: function success(response, textStatus) {\n      $('#new-task-content').val('');\n      indexTasks();\n    },\n    error: function error(request, textStatus, errorMessage) {\n      console.log(errorMessage);\n    }\n  });\n}; //indexTasks();\n\nconsole.log('ajax requests');","map":{"version":3,"sources":["/Users/djones/altCademy/Ruby/fswd-todolist/app/javascript/src/requests.js"],"names":["$","ajaxSetup","headers","attr","indexTasks","successCB","errorCB","request","type","url","success","error","ajax","postTask","content","data","task","val","createTask","xhrFields","contentType","dataType","JSON","stringify","response","textStatus","errorMessage","console","log"],"mappings":"AAAA,OAAOA,CAAP,MAAc,QAAd;AAEAA,CAAC,CAACC,SAAF,CAAY;AACVC,EAAAA,OAAO,EAAE;AACP,oBAAgBF,CAAC,CAAC,yBAAD,CAAD,CAA6BG,IAA7B,CAAkC,SAAlC;AADT;AADC,CAAZ;AAMA,OAAO,IAAIC,UAAU,GAAG,SAAbA,UAAa,CAAUC,SAAV,EAAqBC,OAArB,EAA8B;AACpD,MAAIC,OAAO,GAAG;AACZC,IAAAA,IAAI,EAAE,KADM;AAEZC,IAAAA,GAAG,EAAE,qBAFO;AAGZC,IAAAA,OAAO,EAAEL,SAHG;AAIZM,IAAAA,KAAK,EAAEL;AAJK,GAAd;AAOAN,EAAAA,CAAC,CAACY,IAAF,CAAOL,OAAP;AACD,CATM;AAWP,OAAO,IAAIM,QAAQ,GAAG,SAAXA,QAAW,CAAUC,OAAV,EAAmBT,SAAnB,EAA8BC,OAA9B,EAAuC;AAC3D,MAAIC,OAAO,GAAG;AACZC,IAAAA,IAAI,EAAE,MADM;AAEZC,IAAAA,GAAG,EAAE,qBAFO;AAGZM,IAAAA,IAAI,EAAE;AACJC,MAAAA,IAAI,EAAE;AACJF,QAAAA,OAAO,EAAEd,CAAC,CAAC,mBAAD,CAAD,CAAuBiB,GAAvB;AADL;AADF,KAHM;AAQZP,IAAAA,OAAO,EAAEL,SARG;AASZM,IAAAA,KAAK,EAAEL;AATK,GAAd;AAYAN,EAAAA,CAAC,CAACY,IAAF,CAAOL,OAAP;AACD,CAdM;AAgBP,OAAO,IAAIW,UAAU,GAAG,SAAbA,UAAa,GAAY;AAClClB,EAAAA,CAAC,CAACY,IAAF,CAAO;AACLJ,IAAAA,IAAI,EAAE,MADD;AAELC,IAAAA,GAAG,EAAE,sBAFA;AAGLU,IAAAA,SAAS,EAAE;AAAC,yBAAmB;AAApB,KAHN;AAILC,IAAAA,WAAW,EAAE,kBAJR;AAKLC,IAAAA,QAAQ,EAAE,MALL;AAMLN,IAAAA,IAAI,EAAEO,IAAI,CAACC,SAAL,CAAe;AACnBP,MAAAA,IAAI,EAAE;AACJF,QAAAA,OAAO,EAAEd,CAAC,CAAC,mBAAD,CAAD,CAAuBiB,GAAvB;AADL;AADa,KAAf,CAND;AAWLP,IAAAA,OAAO,EAAE,iBAAUc,QAAV,EAAoBC,UAApB,EAAgC;AACtCzB,MAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBiB,GAAvB,CAA2B,EAA3B;AACAb,MAAAA,UAAU;AACX,KAdG;AAeJO,IAAAA,KAAK,EAAE,eAAUJ,OAAV,EAAmBkB,UAAnB,EAA+BC,YAA/B,EAA6C;AAClDC,MAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;AACD;AAjBG,GAAP;AAmBD,CApBM,C,CAsBP;;AAEAC,OAAO,CAACC,GAAR,CAAY,eAAZ","sourcesContent":["import $ from 'jquery';\n\n$.ajaxSetup({\n  headers: {\n    'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')\n  }\n});\n\nexport var indexTasks = function (successCB, errorCB) {\n  var request = {\n    type: 'GET',\n    url: 'api/tasks?api_key=1',\n    success: successCB,\n    error: errorCB\n  }\n\n  $.ajax(request);\n};\n\nexport var postTask = function (content, successCB, errorCB) {\n  var request = {\n    type: 'POST',\n    url: 'api/tasks?api_key=1',\n    data: {\n      task: {\n        content: $('#new-task-content').val()\n      }\n    },\n    success: successCB,\n    error: errorCB\n  }\n\n  $.ajax(request);\n};\n\nexport var createTask = function () {\n  $.ajax({\n    type: 'POST',\n    url: 'api/tasks/?api_key=1',\n    xhrFields: {'withCredentials': true},\n    contentType: 'application/json',\n    dataType: 'json',\n    data: JSON.stringify({\n      task: {\n        content: $('#new-task-content').val()\n      }\n    }),\n    success: function (response, textStatus) {\n       $('#new-task-content').val('');\n       indexTasks();\n     },\n     error: function (request, textStatus, errorMessage) {\n       console.log(errorMessage);\n     }\n  });\n}\n\n//indexTasks();\n\nconsole.log('ajax requests');\n"]},"metadata":{},"sourceType":"module"}